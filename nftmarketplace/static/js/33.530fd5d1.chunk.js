(this["webpackJsonp@shibabitcoin/interface"]=this["webpackJsonp@shibabitcoin/interface"]||[]).push([[33],{1149:function(e,t,n){"use strict";n.r(t);var i,r,a,c=n(8),o=n.n(c),l=n(41),s=n(13),d=n(1),u=n.n(d),p=n(3),x=n(7),j=n(19),b=n(4),h=b.default.div(i||(i=Object(x.a)(["\n  position: relative;\n  width: 100%;\n  margin: 0 auto;\n  max-width: 815px;\n  display: flex;\n  // flex-basis: auto;\n  flex-direction: column;\n  // flex: 1 0 auto;\n  .container-header {\n    @media (min-width: 768px) {\n      padding: 0 32px;\n    }\n    @media (max-width: 768px) {\n      padding: 0 16px;\n    }\n  }\n  .header-text {\n    font-weight: 900;\n    width: 100%;\n    text-align: left;\n    font-size: 36px;\n    @media (min-width: 768px) {\n      font-size: 36px;\n    }\n    @media (max-width: 768px) {\n      font-size: 32px;\n    }\n  }\n\n  .header-sub {\n    margin: 16px 0px 0px;\n    line-height: 1.4;\n    font-weight: 500;\n    // color: rgba(255, 255, 255, 0.5);\n    width: 100%;\n    text-align: left;\n    @media (min-width: 768px) {\n      font-size: 1rem;\n    }\n    @media (max-width: 768px) {\n      font-size: 1rem;\n    }\n  }\n  .btn-sign {\n    background: transparent;\n    color: ",";\n    background: transparent;\n    border-color: transparent;\n    font-weight: 700;\n    height: 100%;\n    &:hover {\n      color: ",";\n    }\n    &:focus {\n      outline: none;\n    }\n  }\n  .user-avatar {\n    display: flex;\n    -webkit-box-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    justify-content: center;\n    flex-flow: column;\n    border-radius: 100%;\n    width: 100px;\n    height: 100px;\n    overflow: hidden;\n    background-color: rgb(128, 128, 128);\n  }\n  .upload-layout {\n    border: 1px solid rgba(128,128,128,.2);\n    padding: 20px 10px;\n    justify-content: center;\n    border-radius: 14px;\n    align-items: center;\n    @media (max-width: 768px) {\n      position: initial;\n      align-items: center;\n    }\n  }\n"])),(function(e){var t=e.theme;return Object(j.b)(.4,t.primary3)}),(function(e){var t=e.theme;return Object(j.b)(0,t.primary3)})),f=b.default.div(r||(r=Object(x.a)(["\n  position: relative;\n  display: flex;\n  flex-basis: auto;\n  margin: 40px 0 0;\n  padding: 0 16px;\n  width: 100%;\n  min-height: 400px;\n  // flex-direction: column;\n  @media (min-width: 768px) {\n    flex-direction: row;\n    align-items: flex-start;\n    padding-left: 28px;\n    padding-right: 28px;\n  }\n  @media (max-width: 768px) {\n    flex-direction: column-reverse;\n    -webkit-box-align: center;\n    align-items: center;\n    padding-left: 24px;\n    padding-right: 24px;\n  }\n"]))),g=b.default.div(a||(a=Object(x.a)(["\n  padding: 0px;\n  -webkit-box-align: stretch;\n  align-items: stretch;\n  border-width: 0px;\n  border-style: solid;\n  border-color: rgb(255, 255, 255);\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  min-height: 0px;\n  min-width: 0px;\n  max-width: 100%;\n\n  @media screen and (min-width: 768px) {\n    margin-top: 0px;\n    margin-right: 40px;\n  }\n  @media screen and (max-width: 768px) {\n    width: 100%;\n    margin-top: 40px;\n    margin-right: 0px;\n  }\n"]))),m=n(42),v=n(32),O=n(47),w=n(24),y=n(191),k=n(12),S=n.n(k);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var N=Object(d.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,r=e.size,a=void 0===r?24:r,c=L(e,["color","size"]);return u.a.createElement("svg",E({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),u.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),u.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))}));N.propTypes={color:S.a.string,size:S.a.oneOfType([S.a.string,S.a.number])},N.displayName="Lock";var R=N;function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var U=Object(d.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,r=e.size,a=void 0===r?24:r,c=C(e,["color","size"]);return u.a.createElement("svg",z({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),u.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),u.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}))}));U.propTypes={color:S.a.string,size:S.a.oneOfType([S.a.string,S.a.number])},U.displayName="Unlock";var J=U,T=n(86),P=n(158),D=(n(20),n(72)),M=n(0);t.default=function(){var e=Object(D.a)(),t=Object(w.a)(),n=t.account,i=t.library,r=u.a.useRef(null),a=Object(d.useState)(!1),c=Object(s.a)(a,2),x=c[0],j=c[1],b=Object(d.useState)(!1),k=Object(s.a)(b,2),S=k[0],E=k[1],L=Object(d.useState)(""),N=Object(s.a)(L,2),z=N[0],C=N[1],U=Object(d.useState)({}),B=Object(s.a)(U,2),W=B[0],_=B[1],I=JSON.stringify({account:n,action:"Manage Email"}),Y=Object(v.h)(n,z,S),F=Object(d.useState)({account:n,displayName:"",customURL:"",bio:"",twitter:"",personalSite:"",email:"",avatar:"",cover:""}),H=Object(s.a)(F,2),V=H[0],A=H[1];Object(d.useEffect)((function(){var e,t,i=null===Y||void 0===Y||null===(e=Y.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.userDetail,r=JSON.parse(JSON.stringify(V));Object.keys(r).map((function(e){return i&&i[e]?r[e]=i[e]:r[e]="",!0})),(null===i||void 0===i?void 0:i.avatar)?(null===i||void 0===i?void 0:i.avatar)&&(r.avatar="".concat(O.a,"/images/").concat(null===i||void 0===i?void 0:i.avatar)):r.avatar="",(null===i||void 0===i?void 0:i.cover)?(null===i||void 0===i?void 0:i.cover)&&(r.cover="".concat(O.a,"/images/").concat(null===i||void 0===i?void 0:i.cover)):r.cover="",(null===i||void 0===i?void 0:i.account)?(null===i||void 0===i?void 0:i.account)&&(r.account=null===i||void 0===i?void 0:i.account):r.account=n,A(r)}),[Y]);var G=function(e,t){var n=JSON.parse(JSON.stringify(V));e&&(n[e]=t),A(n);var i=new RegExp("((http|ftp|https):\\/\\/)?[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?"),r=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/),a=new RegExp("@[a-zA-Z0-9_]{0,15}");"customURL"===e&&t&&!i.test(t)?_({customURL:"URL format invalid"}):"personalSite"===e&&t&&!i.test(t)?_({personalSite:"URL format invalid"}):"email"===e&&t&&!r.test(t)?_({email:"Email format invalid"}):"twitter"===e&&t&&!a.test(t)?_({twitter:"Twitter username invalid"}):_({})},X=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=I,e.next=4,i.getSigner(n).signMessage(r);case 4:a=e.sent,C(a),E(!S);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=Object(d.useState)([]),$=Object(s.a)(Z,2),q=$[0],K=$[1],Q=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(Object.keys(W).length>0)){e.next=3;break}return e.abrupt("return");case 3:return j(!0),r=new FormData,q[0]&&r.append("file",q[0],q[0].name),delete(a=JSON.parse(JSON.stringify(V))).avatar,delete a.cover,c=JSON.stringify(a),e.prev=10,e.next=13,i.getSigner(n).signMessage(c);case 13:if(s=e.sent){e.next=17;break}return j(!1),e.abrupt("return");case 17:r.append("userData",c),r.append("signMessage",s),r.append("emailData",I),r.append("emailSignMessage",z),Object(v.a)("".concat(O.a,"/users/update-profile"),r).then(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(!S),j(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),j(!1);case 27:case"end":return e.stop()}}),e,null,[[10,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)(p.c,{direction:"column",padding:"32px 0px",children:Object(M.jsxs)(h,{children:[Object(M.jsx)(p.j,{children:"Edit Profile"}),Object(M.jsx)(p.c,{direction:"column",flex:"1 0 auto",maxWidth:"650px",className:"container-header",children:Object(M.jsx)("span",{className:"header-sub",children:"You can set prefferred display name, create your branded profile URL and manage other personal settings"})}),!(null===Y||void 0===Y?void 0:Y.status)&&Object(M.jsx)(f,{children:Object(M.jsxs)(y.a,{children:[Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{})]})}),(null===Y||void 0===Y?void 0:Y.status)&&Object(M.jsxs)(f,{children:[Object(M.jsxs)(g,{children:[Object(M.jsx)(p.c,{margin:"0px 0px 4px",direction:"column",width:"100%",children:Object(M.jsx)(p.o,{children:"Display name"})}),Object(M.jsx)(p.c,{flex:"1 1 auto",align:"left",children:Object(M.jsx)(p.g,{placeholder:"Enter your display name",value:null===V||void 0===V?void 0:V.displayName,onChange:function(e){G("displayName",e.target.value)}})}),Object(M.jsx)(p.c,{margin:"0px 0px 4px",direction:"column",width:"100%",children:Object(M.jsx)(p.o,{children:"Custom URL"})}),Object(M.jsx)(p.c,{flex:"1 1 auto",align:"left",children:Object(M.jsx)(p.g,{placeholder:"Enter your custom url",value:null===V||void 0===V?void 0:V.customURL,isError:W.customURL,onChange:function(e){G("customURL",e.target.value)}})}),Object(M.jsx)(p.c,{margin:"0px 0px 4px",direction:"column",width:"100%",children:Object(M.jsx)(p.o,{children:"Bio"})}),Object(M.jsx)(p.c,{flex:"1 1 auto",align:"left",children:Object(M.jsx)(p.g,{type:"textarea",placeholder:"Tell about yourself in a few words",value:null===V||void 0===V?void 0:V.bio,onChange:function(e){G("bio",e.target.value)}})}),Object(M.jsxs)(p.c,{margin:"0px 0px 4px",direction:"column",width:"100%",children:[Object(M.jsx)(p.o,{children:"Twitter Username"}),Object(M.jsx)(p.b,{children:"Link your Twitter account to gain more trust on the marketplace"})]}),Object(M.jsxs)(p.c,{flex:"1 1 auto",align:"left",children:[Object(M.jsx)(p.g,{placeholder:"@",isError:W.twitter,value:null===V||void 0===V?void 0:V.twitter,onChange:function(e){G("twitter",e.target.value)}}),Object(M.jsx)("div",{style:{position:"absolute",right:10,height:"100%"},children:Object(M.jsx)("button",{className:"btn-sign",onClick:function(){var e;e="https://twitter.com/".concat(V.twitter.substr(1)),window.open(e,"_blank")},children:"Link"})})]}),Object(M.jsx)(p.c,{margin:"0px 0px 4px",direction:"column",width:"100%",children:Object(M.jsx)(p.o,{children:"Personal site or portfolio"})}),Object(M.jsx)(p.c,{flex:"1 1 auto",align:"left",children:Object(M.jsx)(p.g,{placeholder:"https://mywebsite.com",isError:W.personalSite,value:null===V||void 0===V?void 0:V.personalSite,onChange:function(e){G("personalSite",e.target.value)}})}),Object(M.jsxs)(p.c,{margin:"0px 0px 4px",direction:"column",width:"100%",children:[Object(M.jsx)(p.o,{children:"Email"}),Object(M.jsx)(p.b,{children:"Your email for marketplace notifications"})]}),Object(M.jsxs)(p.c,{flex:"1 1 auto",children:[Object(M.jsx)(p.g,{placeholder:"Hidden email",isError:W.email,value:null===V||void 0===V?void 0:V.email,onChange:function(e){G("email",e.target.value)}}),Object(M.jsxs)("div",{style:{position:"absolute",right:10},children:[!z&&Object(M.jsx)(R,{size:"16px",color:e.text4}),z&&Object(M.jsx)(J,{size:"16px",color:e.primary3})]})]}),Object(M.jsxs)(p.c,{width:"100%",justify:"start",children:[Object(M.jsx)(p.b,{style:{width:"auto"},children:"You must sign message to view or manage your email."}),Object(M.jsx)("button",{className:"btn-sign",onClick:X,children:"Sign message"})]}),Object(M.jsx)(p.c,{width:"100%",margin:"40px 0px 0px",children:Object(M.jsx)(m.a,{variant:"lightBlue",width:"100%",minHeight:"48px",onClick:Q,children:Object(M.jsx)(p.i,{fontSize:"15px",color:"white",children:"Update profile"})})})]}),Object(M.jsxs)(p.c,{direction:"column",position:"sticky",top:"110px",justify:"left",align:"left",className:"upload-layout",children:[Object(M.jsx)(p.c,{justify:"left",children:Object(M.jsxs)("div",{className:"user-avatar",children:[!V.avatar&&Object(M.jsx)(T.a,{size:100}),!!V.avatar&&Object(M.jsx)("img",{alt:"Identicon",src:V.avatar,style:{width:"100%",height:"100%",objectFit:"cover",backgroundColor:"rgba(128,128,128,1)"}})]})}),Object(M.jsx)(p.c,{margin:"16px 0 0",children:Object(M.jsxs)(p.b,{align:"center",children:["We recommend an image",Object(M.jsx)("br",{}),"of at lease 400X400. Gifs work too"]})}),Object(M.jsxs)(p.c,{margin:"16px 0 0",justify:"left",children:[Object(M.jsx)(m.a,{variant:"lightBlue",onClick:function(e){r.current.value="",r.current.click()},children:"Choose file"}),Object(M.jsx)("input",{type:"file",ref:r,style:{display:"none"},onChange:function(e){K(e.target.files),e.target.files[0]&&G("avatar",URL.createObjectURL(e.target.files[0]))},accept:"image/*"})]})]})]}),Object(M.jsx)(P.a,{isOpen:x,pendingText:"Updating profile"})]})})}}}]);